{"version":3,"file":"static/js/291.e6326466.chunk.js","mappings":"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","sources":["pages/AdminUserDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useParams, useNavigate } from 'react-router-dom';\r\nimport { adminAPI } from '../api';\r\n\r\nconst AdminUserDetails = () => {\r\n  const [userData, setUserData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        const response = await adminAPI.getUserById(id);\r\n        \r\n        if (response.data && response.data.success) {\r\n          setUserData(response.data.data);\r\n        } else {\r\n          setError('Failed to fetch user details');\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching user details:', err);\r\n        setError('Failed to fetch user details. Please try again later.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, [id]);\r\n\r\n  const handleDeleteUser = async () => {\r\n    if (!window.confirm('Are you sure you want to delete this user? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n    \r\n    // Prompt for admin password\r\n    const password = window.prompt('Please enter your admin password to confirm deletion:');\r\n    if (!password) return;\r\n    \r\n    try {\r\n      setIsDeleting(true);\r\n      setError('');\r\n      \r\n      const response = await adminAPI.deleteUser(id, password);\r\n      \r\n      if (response.data && response.data.success) {\r\n        alert('User deleted successfully');\r\n        navigate('/admin/users');\r\n      } else {\r\n        setError('Failed to delete user');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting user:', err);\r\n      setError(err.response?.data?.error || 'Failed to delete user. Please try again.');\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading user details...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"user-details-error\">\r\n        <div className=\"alert alert-danger\">{error}</div>\r\n        <Link to=\"/admin/users\" className=\"btn btn-primary\">Back to Users</Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!userData || !userData.user) {\r\n    return (\r\n      <div className=\"user-not-found\">\r\n        <div className=\"alert alert-warning\">User not found</div>\r\n        <Link to=\"/admin/users\" className=\"btn btn-primary\">Back to Users</Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { user, profile } = userData;\r\n\r\n  return (\r\n    <div className=\"admin-user-details\">\r\n      <div className=\"page-header d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h1>User Details</h1>\r\n          <p className=\"text-muted\">Viewing detailed information for {user.name}</p>\r\n        </div>\r\n        <div>\r\n          <Link to=\"/admin/users\" className=\"btn btn-secondary mr-2\">\r\n            Back to Users\r\n          </Link>\r\n          <button \r\n            className=\"btn btn-danger\" \r\n            onClick={handleDeleteUser}\r\n            disabled={isDeleting}\r\n          >\r\n            {isDeleting ? 'Deleting...' : 'Delete User'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <div className=\"card mb-4\">\r\n            <div className=\"card-header\">\r\n              <h5 className=\"card-title mb-0\">Basic Information</h5>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <table className=\"table table-bordered\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th>Name</th>\r\n                    <td>{user.name}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{user.email}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Role</th>\r\n                    <td>\r\n                      <span className={`badge badge-${user.role === 'doctor' ? 'primary' : (user.role === 'admin' ? 'danger' : 'success')}`}>\r\n                        {user.role.charAt(0).toUpperCase() + user.role.slice(1)}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Phone</th>\r\n                    <td>{user.phone || 'N/A'}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Gender</th>\r\n                    <td>{user.gender || 'N/A'}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Date of Birth</th>\r\n                    <td>{user.dateOfBirth ? new Date(user.dateOfBirth).toLocaleDateString() : 'N/A'}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Registered On</th>\r\n                    <td>{new Date(user.createdAt).toLocaleString()}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-md-6\">\r\n          {user.role === 'doctor' && (\r\n            <div className=\"card mb-4\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"card-title mb-0\">Doctor Information</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <table className=\"table table-bordered\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th>Specialization</th>\r\n                      <td>{user.specialization || 'N/A'}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Experience</th>\r\n                      <td>{profile?.experience ? `${profile.experience} years` : 'N/A'}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>About</th>\r\n                      <td>{profile?.about || 'N/A'}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                \r\n                {profile?.qualifications && profile.qualifications.length > 0 && (\r\n                  <div className=\"mt-3\">\r\n                    <h6>Qualifications</h6>\r\n                    <ul className=\"list-group\">\r\n                      {profile.qualifications.map((qual, index) => (\r\n                        <li key={index} className=\"list-group-item\">\r\n                          <strong>{qual.degree}</strong> - {qual.institution} ({qual.year})\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {user.role === 'patient' && (\r\n            <div className=\"card mb-4\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"card-title mb-0\">Patient Information</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <table className=\"table table-bordered\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th>Height</th>\r\n                      <td>{user.height ? `${user.height} cm` : 'N/A'}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Weight</th>\r\n                      <td>{user.weight ? `${user.weight} kg` : 'N/A'}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                \r\n                {user.emergencyContact && (\r\n                  <div className=\"mt-3\">\r\n                    <h6>Emergency Contact</h6>\r\n                    <table className=\"table table-bordered\">\r\n                      <tbody>\r\n                        <tr>\r\n                          <th>Name</th>\r\n                          <td>{user.emergencyContact.name || 'N/A'}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>Relationship</th>\r\n                          <td>{user.emergencyContact.relationship || 'N/A'}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>Phone</th>\r\n                          <td>{user.emergencyContact.phone || 'N/A'}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                )}\r\n\r\n                {profile?.conditions && profile.conditions.length > 0 && (\r\n                  <div className=\"mt-3\">\r\n                    <h6>Medical Conditions</h6>\r\n                    <ul className=\"list-group\">\r\n                      {profile.conditions.map((condition, index) => (\r\n                        <li key={index} className=\"list-group-item\">{condition}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n\r\n                {profile?.allergies && profile.allergies.length > 0 && (\r\n                  <div className=\"mt-3\">\r\n                    <h6>Allergies</h6>\r\n                    <ul className=\"list-group\">\r\n                      {profile.allergies.map((allergy, index) => (\r\n                        <li key={index} className=\"list-group-item\">{allergy}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminUserDetails; "],"names":["AdminUserDetails","userData","setUserData","useState","loading","setLoading","error","setError","isDeleting","setIsDeleting","id","useParams","navigate","useNavigate","useEffect","async","response","adminAPI","getUserById","data","success","err","console","fetchUserData","_jsx","className","children","_jsxs","Link","to","user","profile","name","onClick","window","confirm","password","prompt","deleteUser","alert","_err$response","_err$response$data","disabled","email","concat","role","charAt","toUpperCase","slice","phone","gender","dateOfBirth","Date","toLocaleDateString","createdAt","toLocaleString","specialization","experience","about","qualifications","length","map","qual","index","degree","institution","year","height","weight","emergencyContact","relationship","conditions","condition","allergies","allergy"],"sourceRoot":""}