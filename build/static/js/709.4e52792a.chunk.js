"use strict";(self.webpackChunkmediconnect_frontend=self.webpackChunkmediconnect_frontend||[]).push([[709],{709:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var i=s(43),l=s(216),c=s(475),t=s(996),r=s(535),n=s(579);const d=()=>{var e;const{id:a}=(0,l.g)(),[s,d]=(0,i.useState)(null),[o,h]=(0,i.useState)(!0),[m,x]=(0,i.useState)(""),[p,f]=(0,i.useState)((0,r.GP)(new Date,"yyyy-MM-dd")),[j,u]=(0,i.useState)([]),[v,N]=(0,i.useState)(!1),y=(0,i.useCallback)((async()=>{try{h(!0);const e=await t.qJ.getDoctorById(a);e.data.success?(console.log("Doctor profile data:",e.data.data),d(e.data.data),x("")):x("Failed to fetch doctor profile")}catch(e){console.error("Error fetching doctor profile:",e),x("Failed to fetch doctor profile. Please try again later.")}finally{h(!1)}}),[a]),b=(0,i.useCallback)((async()=>{try{N(!0);const e=await t.qJ.getDoctorAvailability(a,p);e.data.success?u(e.data.availableSlots):console.error("Failed to fetch availability")}catch(e){console.error("Error fetching availability:",e)}finally{N(!1)}}),[a,p]);(0,i.useEffect)((()=>{y()}),[y]),(0,i.useEffect)((()=>{s&&b()}),[s,b]);if(o)return(0,n.jsx)("div",{className:"loading",children:"Loading doctor profile..."});if(m)return(0,n.jsx)("div",{className:"error alert alert-danger",children:m});if(!s)return(0,n.jsx)("div",{className:"not-found",children:"Doctor not found"});const g=new Date,D=(0,r.GP)(g,"yyyy-MM-dd"),S=(0,r.GP)(new Date(g.setMonth(g.getMonth()+3)),"yyyy-MM-dd");return(0,n.jsxs)("div",{className:"doctor-profile",children:[(0,n.jsxs)("div",{className:"profile-header",children:[(0,n.jsx)("h1",{children:s.name}),(0,n.jsx)("p",{className:"specialization",children:s.specialization})]}),(0,n.jsx)("div",{className:"profile-details",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-md-6",children:[(0,n.jsxs)("div",{className:"card mb-4",children:[(0,n.jsx)("div",{className:"card-header",children:(0,n.jsx)("h3",{children:"Doctor Information"})}),(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Gender:"})," ",s.gender||"Not specified"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Specialization:"})," ",s.specialization]}),s.profile&&(0,n.jsxs)(n.Fragment,{children:[s.profile.experience&&(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Experience:"})," ",s.profile.experience," years"]}),s.profile.about&&(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"About:"}),(0,n.jsx)("p",{children:s.profile.about})]})]})]})]}),(null===(e=s.profile)||void 0===e?void 0:e.qualifications)&&s.profile.qualifications.length>0&&(0,n.jsxs)("div",{className:"card mb-4",children:[(0,n.jsx)("div",{className:"card-header",children:(0,n.jsx)("h3",{children:"Professional Qualifications"})}),(0,n.jsx)("div",{className:"card-body",children:(0,n.jsx)("div",{className:"qualifications-list",children:s.profile.qualifications.map(((e,a)=>(0,n.jsxs)("div",{className:"qualification-item mb-3",children:[(0,n.jsxs)("div",{className:"qualification-degree",children:[(0,n.jsx)("span",{className:"degree-icon",children:"\ud83c\udf93"}),e.degree]}),(0,n.jsxs)("div",{className:"qualification-details",children:[(0,n.jsx)("span",{className:"institution",children:e.institution}),e.year&&(0,n.jsx)("span",{className:"year",children:e.year})]})]},a)))})})]})]}),(0,n.jsx)("div",{className:"col-md-6",children:(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("div",{className:"card-header",children:(0,n.jsx)("h3",{children:"Book an Appointment"})}),(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"appointmentDate",children:"Select Date:"}),(0,n.jsx)("input",{type:"date",id:"appointmentDate",className:"form-control",value:p,onChange:e=>{f(e.target.value)},min:D,max:S})]}),v?(0,n.jsx)("p",{children:"Loading availability..."}):(0,n.jsxs)("div",{className:"available-slots mt-3",children:[(0,n.jsx)("h4",{children:"Available Time Slots:"}),0===j.length?(0,n.jsx)("p",{children:"No available slots for the selected date."}):(0,n.jsx)("div",{className:"time-slots",children:j.map((e=>(0,n.jsx)(c.N_,{to:"/book-appointment/".concat(s._id,"?date=").concat(p,"&slot=").concat(encodeURIComponent(e)),className:"btn btn-outline-primary time-slot-btn",children:e},e)))})]})]})]})})]})})]})}}}]);
//# sourceMappingURL=709.4e52792a.chunk.js.map