{"version":3,"file":"static/js/697.8067350b.chunk.js","mappings":"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","sources":["pages/AdminProfile.jsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { userAPI, adminAPI } from '../api';\r\n\r\nconst AdminProfile = () => {\r\n  const { currentUser, updateCurrentUser } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    name: currentUser?.name || '',\r\n    email: currentUser?.email || '',\r\n    phone: currentUser?.phone || '',\r\n    dateOfBirth: currentUser?.dateOfBirth ? new Date(currentUser.dateOfBirth).toISOString().split('T')[0] : ''\r\n  });\r\n  const [passwordData, setPasswordData] = useState({\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: ''\r\n  });\r\n  const [updateLoading, setUpdateLoading] = useState(false);\r\n  const [passwordLoading, setPasswordLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n  const [passwordSuccess, setPasswordSuccess] = useState('');\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  // Check if user is admin\r\n  useEffect(() => {\r\n    if (!currentUser || currentUser.role !== 'admin') {\r\n      navigate('/dashboard');\r\n    }\r\n  }, [currentUser, navigate]);\r\n\r\n  // Handle form initialization when currentUser changes\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      setFormData({\r\n        name: currentUser.name || '',\r\n        email: currentUser.email || '',\r\n        phone: currentUser.phone || '',\r\n        dateOfBirth: currentUser.dateOfBirth ? new Date(currentUser.dateOfBirth).toISOString().split('T')[0] : ''\r\n      });\r\n    }\r\n  }, [currentUser]);\r\n\r\n  const toggleEditMode = () => {\r\n    setEditMode(!editMode);\r\n    if (!editMode) {\r\n      // Entering edit mode - form is already set with current values\r\n    } else {\r\n      // Canceling edit mode - reset form data to current user data\r\n      setFormData({\r\n        name: currentUser?.name || '',\r\n        email: currentUser?.email || '',\r\n        phone: currentUser?.phone || '',\r\n        dateOfBirth: currentUser?.dateOfBirth ? new Date(currentUser.dateOfBirth).toISOString().split('T')[0] : ''\r\n      });\r\n      setError('');\r\n      setSuccess('');\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handlePasswordChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setPasswordData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      setUpdateLoading(true);\r\n      setError('');\r\n      setSuccess('');\r\n      \r\n      // Create update data but exclude email\r\n      const { email, ...updateData } = formData;\r\n      \r\n      // Ensure we are only sending non-empty fields that have changed\r\n      const changedFields = {};\r\n      Object.keys(updateData).forEach(key => {\r\n        if (updateData[key] !== '' && updateData[key] !== currentUser[key]) {\r\n          changedFields[key] = updateData[key];\r\n        }\r\n      });\r\n      \r\n      // Skip update if no fields changed\r\n      if (Object.keys(changedFields).length === 0) {\r\n        setSuccess('No changes to save');\r\n        setEditMode(false);\r\n        return;\r\n      }\r\n      \r\n      console.log('Updating admin profile with data:', changedFields);\r\n      const response = await adminAPI.updateProfile(changedFields);\r\n      \r\n      if (response.data && response.data.success) {\r\n        setSuccess('Profile updated successfully!');\r\n        // Update the current user in context\r\n        if (updateCurrentUser) {\r\n          updateCurrentUser({\r\n            ...currentUser,\r\n            ...changedFields // Update with all changed fields\r\n          });\r\n        }\r\n        setEditMode(false); // Exit edit mode after successful update\r\n      } else {\r\n        setError('Failed to update profile: ' + (response.data?.error || 'Unknown error'));\r\n      }\r\n    } catch (err) {\r\n      console.error('Profile update error:', err);\r\n      let errorMessage = 'Failed to update profile. Please try again later.';\r\n      \r\n      if (err.response) {\r\n        const status = err.response.status;\r\n        if (err.response.data && err.response.data.error) {\r\n          errorMessage = err.response.data.error;\r\n        } else if (status === 400) {\r\n          errorMessage = 'Invalid data. Please check your inputs.';\r\n        } else if (status === 401) {\r\n          errorMessage = 'Not authorized. Please log in again.';\r\n          // Don't display the browser alert - just show in our UI\r\n          err.preventAlert = true;\r\n        } else if (status === 404) {\r\n          errorMessage = 'Profile not found. Please try logging out and back in.';\r\n        } else if (status === 500) {\r\n          errorMessage = 'Server error. Please try again later.';\r\n        }\r\n      }\r\n      \r\n      setError(errorMessage);\r\n    } finally {\r\n      setUpdateLoading(false);\r\n    }\r\n  };\r\n\r\n  const handlePasswordSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\r\n      setPasswordError('New passwords do not match');\r\n      return;\r\n    }\r\n    \r\n    // Validate password length\r\n    if (passwordData.newPassword.length < 8) {\r\n      setPasswordError('New password must be at least 8 characters long');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setPasswordLoading(true);\r\n      setPasswordError('');\r\n      setPasswordSuccess('');\r\n      \r\n      console.log('Submitting admin password change request');\r\n      const response = await adminAPI.changePassword({\r\n        currentPassword: passwordData.currentPassword,\r\n        newPassword: passwordData.newPassword\r\n      });\r\n      \r\n      if (response.data && response.data.success) {\r\n        console.log('Password changed successfully');\r\n        setPasswordSuccess('Password changed successfully! You will need to log in again with your new password.');\r\n        setPasswordData({\r\n          currentPassword: '',\r\n          newPassword: '',\r\n          confirmPassword: ''\r\n        });\r\n      } else {\r\n        console.error('Failed to change password:', response.data);\r\n        setPasswordError(response.data.error || 'Failed to change password');\r\n      }\r\n    } catch (err) {\r\n      console.error('Password change error:', err);\r\n      \r\n      if (err.response) {\r\n        const status = err.response.status;\r\n        const errorMessage = err.response.data?.error || err.response.data?.message || 'An unknown error occurred';\r\n        \r\n        if (status === 401) {\r\n          setPasswordError('Current password is incorrect');\r\n        } else if (status === 400) {\r\n          setPasswordError(errorMessage);\r\n        } else if (status === 404) {\r\n          setPasswordError('Password change endpoint not found. Please contact support.');\r\n        } else {\r\n          setPasswordError(`Error (${status}): ${errorMessage}`);\r\n        }\r\n      } else if (err.request) {\r\n        setPasswordError('No response from server. Please check your internet connection.');\r\n      } else {\r\n        setPasswordError('Failed to change password. Please try again later.');\r\n      }\r\n    } finally {\r\n      setPasswordLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-profile\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h1>Admin Profile</h1>\r\n        <div>\r\n          <button \r\n            className={`btn ${editMode ? 'btn-secondary' : 'btn-primary'}`}\r\n            onClick={toggleEditMode}\r\n          >\r\n            {editMode ? 'Cancel Edit' : 'Edit Profile'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <p className=\"text-muted\">Manage your admin account settings</p>\r\n\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n      {success && <div className=\"alert alert-success\">{success}</div>}\r\n      \r\n      <div className=\"card mb-4\">\r\n        <div className=\"card-header\">\r\n          <h3>Profile Information</h3>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"text-center mb-4\">\r\n            <div className=\"admin-photo\" style={{ width: '120px', height: '120px', overflow: 'hidden', borderRadius: '50%', margin: '0 auto' }}>\r\n              <img src=\"/images/person1.jpeg\" alt=\"Aditya Raj\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\r\n            </div>\r\n            <h4 className=\"mt-3\">Aditya Raj</h4>\r\n            <p className=\"text-muted\">Administrator</p>\r\n          </div>\r\n          \r\n          {!editMode ? (\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3 font-weight-bold\">Name:</div>\r\n              <div className=\"col-md-9\">{currentUser?.name}</div>\r\n              <div className=\"col-md-3 font-weight-bold mt-3\">Email:</div>\r\n              <div className=\"col-md-9 mt-3\">{currentUser?.email}</div>\r\n              <div className=\"col-md-3 font-weight-bold mt-3\">Phone:</div>\r\n              <div className=\"col-md-9 mt-3\">{currentUser?.phone || 'Not specified'}</div>\r\n              <div className=\"col-md-3 font-weight-bold mt-3\">Date of Birth:</div>\r\n              <div className=\"col-md-9 mt-3\">\r\n                {currentUser?.dateOfBirth ? new Date(currentUser.dateOfBirth).toLocaleDateString() : 'Not specified'}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"name\">Full Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"name\"\r\n                  name=\"name\"\r\n                  value={formData.name}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  required\r\n                  disabled\r\n                />\r\n                <small className=\"form-text text-muted\">Email cannot be changed</small>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"phone\">Phone</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  className=\"form-control\"\r\n                  id=\"phone\"\r\n                  name=\"phone\"\r\n                  value={formData.phone}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"dateOfBirth\">Date of Birth</label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"form-control\"\r\n                  id=\"dateOfBirth\"\r\n                  name=\"dateOfBirth\"\r\n                  value={formData.dateOfBirth}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              \r\n              <button \r\n                type=\"submit\" \r\n                className=\"btn btn-primary\" \r\n                disabled={updateLoading}\r\n              >\r\n                {updateLoading ? 'Saving...' : 'Save Changes'}\r\n              </button>\r\n            </form>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"card mb-4\">\r\n        <div className=\"card-header\">\r\n          <h3>Change Password</h3>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          {passwordError && <div className=\"alert alert-danger\">{passwordError}</div>}\r\n          {passwordSuccess && <div className=\"alert alert-success\">{passwordSuccess}</div>}\r\n          \r\n          <form onSubmit={handlePasswordSubmit}>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"currentPassword\">Current Password</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"currentPassword\"\r\n                name=\"currentPassword\"\r\n                value={passwordData.currentPassword}\r\n                onChange={handlePasswordChange}\r\n                required\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"newPassword\">New Password</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"newPassword\"\r\n                name=\"newPassword\"\r\n                value={passwordData.newPassword}\r\n                onChange={handlePasswordChange}\r\n                required\r\n              />\r\n              <small className=\"form-text text-muted\">Password must be at least 8 characters long</small>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"confirmPassword\">Confirm New Password</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"confirmPassword\"\r\n                name=\"confirmPassword\"\r\n                value={passwordData.confirmPassword}\r\n                onChange={handlePasswordChange}\r\n                required\r\n              />\r\n            </div>\r\n            \r\n            <button \r\n              type=\"submit\" \r\n              className=\"btn btn-primary\" \r\n              disabled={passwordLoading}\r\n            >\r\n              {passwordLoading ? 'Updating...' : 'Change Password'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminProfile; ","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };"],"names":["AdminProfile","currentUser","updateCurrentUser","useAuth","navigate","useNavigate","formData","setFormData","useState","name","email","phone","dateOfBirth","Date","toISOString","split","passwordData","setPasswordData","currentPassword","newPassword","confirmPassword","updateLoading","setUpdateLoading","passwordLoading","setPasswordLoading","error","setError","success","setSuccess","passwordError","setPasswordError","passwordSuccess","setPasswordSuccess","editMode","setEditMode","useEffect","role","handleChange","e","value","target","prev","_objectSpread","handlePasswordChange","_jsxs","className","children","_jsx","concat","onClick","toggleEditMode","style","width","height","overflow","borderRadius","margin","src","alt","objectFit","onSubmit","async","preventDefault","updateData","_objectWithoutProperties","_excluded","changedFields","Object","keys","forEach","key","length","console","log","response","adminAPI","updateProfile","_response$data","data","err","errorMessage","status","preventAlert","htmlFor","type","id","onChange","required","disabled","toLocaleDateString","changePassword","_err$response$data","_err$response$data2","message","request","t","o","r","i","n","hasOwnProperty","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable"],"sourceRoot":""}