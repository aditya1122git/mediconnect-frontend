"use strict";(self.webpackChunkmediconnect_frontend=self.webpackChunkmediconnect_frontend||[]).push([[291],{291:(e,s,r)=>{r.r(s),r.d(s,{default:()=>n});var i=r(43),l=r(216),a=r(475),d=r(996),t=r(579);const n=()=>{const[e,s]=(0,i.useState)(null),[r,n]=(0,i.useState)(!0),[c,h]=(0,i.useState)(""),[o,x]=(0,i.useState)(!1),{id:j}=(0,l.g)(),m=(0,l.Zp)();(0,i.useEffect)((()=>{(async()=>{try{n(!0),h("");const e=await d.Er.getUserById(j);e.data&&e.data.success?s(e.data.data):h("Failed to fetch user details")}catch(e){console.error("Error fetching user details:",e),h("Failed to fetch user details. Please try again later.")}finally{n(!1)}})()}),[j]);if(r)return(0,t.jsx)("div",{className:"loading",children:"Loading user details..."});if(c)return(0,t.jsxs)("div",{className:"user-details-error",children:[(0,t.jsx)("div",{className:"alert alert-danger",children:c}),(0,t.jsx)(a.N_,{to:"/admin/users",className:"btn btn-primary",children:"Back to Users"})]});if(!e||!e.user)return(0,t.jsxs)("div",{className:"user-not-found",children:[(0,t.jsx)("div",{className:"alert alert-warning",children:"User not found"}),(0,t.jsx)(a.N_,{to:"/admin/users",className:"btn btn-primary",children:"Back to Users"})]});const{user:u,profile:N}=e;return(0,t.jsxs)("div",{className:"admin-user-details",children:[(0,t.jsxs)("div",{className:"page-header d-flex justify-content-between align-items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:"User Details"}),(0,t.jsxs)("p",{className:"text-muted",children:["Viewing detailed information for ",u.name]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.N_,{to:"/admin/users",className:"btn btn-secondary mr-2",children:"Back to Users"}),(0,t.jsx)("button",{className:"btn btn-danger",onClick:async()=>{if(!window.confirm("Are you sure you want to delete this user? This action cannot be undone."))return;const e=window.prompt("Please enter your admin password to confirm deletion:");if(e)try{x(!0),h("");const s=await d.Er.deleteUser(j,e);s.data&&s.data.success?(alert("User deleted successfully"),m("/admin/users")):h("Failed to delete user")}catch(i){var s,r;console.error("Error deleting user:",i),h((null===(s=i.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||"Failed to delete user. Please try again.")}finally{x(!1)}},disabled:o,children:o?"Deleting...":"Delete User"})]})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"card mb-4",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h5",{className:"card-title mb-0",children:"Basic Information"})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)("table",{className:"table table-bordered",children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("td",{children:u.name})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Email"}),(0,t.jsx)("td",{children:u.email})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Role"}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:"badge badge-".concat("doctor"===u.role?"primary":"admin"===u.role?"danger":"success"),children:u.role.charAt(0).toUpperCase()+u.role.slice(1)})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Phone"}),(0,t.jsx)("td",{children:u.phone||"N/A"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Gender"}),(0,t.jsx)("td",{children:u.gender||"N/A"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Date of Birth"}),(0,t.jsx)("td",{children:u.dateOfBirth?new Date(u.dateOfBirth).toLocaleDateString():"N/A"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Registered On"}),(0,t.jsx)("td",{children:new Date(u.createdAt).toLocaleString()})]})]})})})]})}),(0,t.jsxs)("div",{className:"col-md-6",children:["doctor"===u.role&&(0,t.jsxs)("div",{className:"card mb-4",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h5",{className:"card-title mb-0",children:"Doctor Information"})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("table",{className:"table table-bordered",children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Specialization"}),(0,t.jsx)("td",{children:u.specialization||"N/A"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Experience"}),(0,t.jsx)("td",{children:null!==N&&void 0!==N&&N.experience?"".concat(N.experience," years"):"N/A"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"About"}),(0,t.jsx)("td",{children:(null===N||void 0===N?void 0:N.about)||"N/A"})]})]})}),(null===N||void 0===N?void 0:N.qualifications)&&N.qualifications.length>0&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("h6",{children:"Qualifications"}),(0,t.jsx)("ul",{className:"list-group",children:N.qualifications.map(((e,s)=>(0,t.jsxs)("li",{className:"list-group-item",children:[(0,t.jsx)("strong",{children:e.degree})," - ",e.institution," (",e.year,")"]},s)))})]})]})]}),"patient"===u.role&&(0,t.jsxs)("div",{className:"card mb-4",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h5",{className:"card-title mb-0",children:"Patient Information"})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("table",{className:"table table-bordered",children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Height"}),(0,t.jsx)("td",{children:u.height?"".concat(u.height," cm"):"N/A"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Weight"}),(0,t.jsx)("td",{children:u.weight?"".concat(u.weight," kg"):"N/A"})]})]})}),u.emergencyContact&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("h6",{children:"Emergency Contact"}),(0,t.jsx)("table",{className:"table table-bordered",children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("td",{children:u.emergencyContact.name||"N/A"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Relationship"}),(0,t.jsx)("td",{children:u.emergencyContact.relationship||"N/A"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Phone"}),(0,t.jsx)("td",{children:u.emergencyContact.phone||"N/A"})]})]})})]}),(null===N||void 0===N?void 0:N.conditions)&&N.conditions.length>0&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("h6",{children:"Medical Conditions"}),(0,t.jsx)("ul",{className:"list-group",children:N.conditions.map(((e,s)=>(0,t.jsx)("li",{className:"list-group-item",children:e},s)))})]}),(null===N||void 0===N?void 0:N.allergies)&&N.allergies.length>0&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("h6",{children:"Allergies"}),(0,t.jsx)("ul",{className:"list-group",children:N.allergies.map(((e,s)=>(0,t.jsx)("li",{className:"list-group-item",children:e},s)))})]})]})]})]})]})]})}}}]);
//# sourceMappingURL=291.e6326466.chunk.js.map